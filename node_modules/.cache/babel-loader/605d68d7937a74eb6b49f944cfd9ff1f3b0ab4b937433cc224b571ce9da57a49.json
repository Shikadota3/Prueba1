{"ast":null,"code":"var _jsxFileName = \"C:\\\\RAUL\\\\TRABAJOS\\\\Aplicativo Vidawasi v3.0\\\\project\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { saveToLocalStorage, getFromLocalStorage } from './utils/storage';\nimport AuthLoginForm from './components/AuthLoginForm';\nimport AuthRegisterForm from './components/AuthRegisterForm';\nimport PatientList from './components/PatientList';\nimport PatientRecordForm from './components/PatientRecordForm';\nimport AppointmentManagement from './components/AppointmentManagement';\nimport EducationalMaterials from './components/EducationalMaterials';\nimport NavigationSidebar from './components/NavigationSidebar';\nimport DashboardStats from './components/DashboardStats';\nimport UserManagement from './components/UserManagement';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [currentView, setCurrentView] = useState('login');\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [userRole, setUserRole] = useState(null);\n  const [showRegister, setShowRegister] = useState(false);\n  const [currentUser, setCurrentUser] = useState(null);\n  useEffect(() => {\n    // Inicializar datos demo si no existen\n    if (!getFromLocalStorage('users')) {\n      const initialUsers = [{\n        name: 'Admin Principal',\n        email: 'admin@gsi.com',\n        password: 'admin123',\n        role: 'admin',\n        registeredAt: new Date().toISOString()\n      }, {\n        name: 'Dra. María López',\n        email: 'maria@gsi.com',\n        password: 'doctor123',\n        role: 'professional',\n        registeredAt: new Date().toISOString()\n      }];\n      saveToLocalStorage('users', initialUsers);\n    }\n\n    // Verificar si hay usuario logueado\n    const loggedUser = getFromLocalStorage('currentUser');\n    if (loggedUser) {\n      setIsAuthenticated(true);\n      setUserRole(loggedUser.role);\n      setCurrentUser(loggedUser);\n      setCurrentView('dashboard');\n    }\n  }, []);\n  const handleLogin = (email, password) => {\n    const users = getFromLocalStorage('users') || [];\n    const user = users.find(u => u.email === email && u.password === password);\n    if (user) {\n      setIsAuthenticated(true);\n      setUserRole(user.role);\n      setCurrentUser(user);\n      saveToLocalStorage('currentUser', user);\n      setCurrentView('dashboard');\n    } else {\n      alert('Credenciales incorrectas');\n    }\n  };\n  const handleRegister = userData => {\n    const users = getFromLocalStorage('users') || [];\n    const userExists = users.some(u => u.email === userData.email);\n    if (userExists) {\n      alert('El usuario ya existe');\n      return;\n    }\n    const newUser = {\n      ...userData,\n      registeredAt: new Date().toISOString()\n    };\n    const updatedUsers = [...users, newUser];\n    saveToLocalStorage('users', updatedUsers);\n\n    // Autologin después de registro\n    handleLogin(newUser.email, newUser.password);\n  };\n  const handleLogout = () => {\n    setIsAuthenticated(false);\n    setUserRole(null);\n    setCurrentUser(null);\n    localStorage.removeItem('currentUser');\n    setCurrentView('login');\n  };\n  const renderView = () => {\n    switch (currentView) {\n      case 'patients':\n        return /*#__PURE__*/_jsxDEV(PatientList, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 31\n        }, this);\n      case 'records':\n        return /*#__PURE__*/_jsxDEV(PatientRecordForm, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 30\n        }, this);\n      case 'appointments':\n        return /*#__PURE__*/_jsxDEV(AppointmentManagement, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 35\n        }, this);\n      case 'education':\n        return /*#__PURE__*/_jsxDEV(EducationalMaterials, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 32\n        }, this);\n      case 'users':\n        return /*#__PURE__*/_jsxDEV(UserManagement, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 28\n        }, this);\n      case 'dashboard':\n      default:\n        return /*#__PURE__*/_jsxDEV(DashboardStats, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 23\n        }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100\",\n    children: !isAuthenticated ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center min-h-screen p-4\",\n      children: showRegister ? /*#__PURE__*/_jsxDEV(AuthRegisterForm, {\n        onRegister: handleRegister,\n        onShowLogin: () => setShowRegister(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(AuthLoginForm, {\n        onLogin: handleLogin,\n        onShowRegister: () => setShowRegister(true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex\",\n      children: [/*#__PURE__*/_jsxDEV(NavigationSidebar, {\n        currentView: currentView,\n        setCurrentView: setCurrentView,\n        userRole: userRole,\n        onLogout: handleLogout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 p-6\",\n        children: renderView()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"Pl7+45d1FSGgL7YyqCkNy6XqCy4=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","saveToLocalStorage","getFromLocalStorage","AuthLoginForm","AuthRegisterForm","PatientList","PatientRecordForm","AppointmentManagement","EducationalMaterials","NavigationSidebar","DashboardStats","UserManagement","jsxDEV","_jsxDEV","App","_s","currentView","setCurrentView","isAuthenticated","setIsAuthenticated","userRole","setUserRole","showRegister","setShowRegister","currentUser","setCurrentUser","initialUsers","name","email","password","role","registeredAt","Date","toISOString","loggedUser","handleLogin","users","user","find","u","alert","handleRegister","userData","userExists","some","newUser","updatedUsers","handleLogout","localStorage","removeItem","renderView","fileName","_jsxFileName","lineNumber","columnNumber","className","children","onRegister","onShowLogin","onLogin","onShowRegister","onLogout","_c","$RefreshReg$"],"sources":["C:/RAUL/TRABAJOS/Aplicativo Vidawasi v3.0/project/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { saveToLocalStorage, getFromLocalStorage } from './utils/storage';\nimport AuthLoginForm from './components/AuthLoginForm';\nimport AuthRegisterForm from './components/AuthRegisterForm';\nimport PatientList from './components/PatientList';\nimport PatientRecordForm from './components/PatientRecordForm';\nimport AppointmentManagement from './components/AppointmentManagement';\nimport EducationalMaterials from './components/EducationalMaterials';\nimport NavigationSidebar from './components/NavigationSidebar';\nimport DashboardStats from './components/DashboardStats';\nimport UserManagement from './components/UserManagement';\n\nconst App = () => {\n  const [currentView, setCurrentView] = useState('login');\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [userRole, setUserRole] = useState(null);\n  const [showRegister, setShowRegister] = useState(false);\n  const [currentUser, setCurrentUser] = useState(null);\n\n  useEffect(() => {\n    // Inicializar datos demo si no existen\n    if (!getFromLocalStorage('users')) {\n      const initialUsers = [\n        {\n          name: 'Admin Principal',\n          email: 'admin@gsi.com',\n          password: 'admin123',\n          role: 'admin',\n          registeredAt: new Date().toISOString()\n        },\n        {\n          name: 'Dra. María López',\n          email: 'maria@gsi.com',\n          password: 'doctor123',\n          role: 'professional',\n          registeredAt: new Date().toISOString()\n        }\n      ];\n      saveToLocalStorage('users', initialUsers);\n    }\n\n    // Verificar si hay usuario logueado\n    const loggedUser = getFromLocalStorage('currentUser');\n    if (loggedUser) {\n      setIsAuthenticated(true);\n      setUserRole(loggedUser.role);\n      setCurrentUser(loggedUser);\n      setCurrentView('dashboard');\n    }\n  }, []);\n\n  const handleLogin = (email, password) => {\n    const users = getFromLocalStorage('users') || [];\n    const user = users.find(u => u.email === email && u.password === password);\n    \n    if (user) {\n      setIsAuthenticated(true);\n      setUserRole(user.role);\n      setCurrentUser(user);\n      saveToLocalStorage('currentUser', user);\n      setCurrentView('dashboard');\n    } else {\n      alert('Credenciales incorrectas');\n    }\n  };\n\n  const handleRegister = (userData) => {\n    const users = getFromLocalStorage('users') || [];\n    const userExists = users.some(u => u.email === userData.email);\n    \n    if (userExists) {\n      alert('El usuario ya existe');\n      return;\n    }\n\n    const newUser = {\n      ...userData,\n      registeredAt: new Date().toISOString()\n    };\n    \n    const updatedUsers = [...users, newUser];\n    saveToLocalStorage('users', updatedUsers);\n    \n    // Autologin después de registro\n    handleLogin(newUser.email, newUser.password);\n  };\n\n  const handleLogout = () => {\n    setIsAuthenticated(false);\n    setUserRole(null);\n    setCurrentUser(null);\n    localStorage.removeItem('currentUser');\n    setCurrentView('login');\n  };\n\n  const renderView = () => {\n    switch(currentView) {\n      case 'patients': return <PatientList />;\n      case 'records': return <PatientRecordForm />;\n      case 'appointments': return <AppointmentManagement />;\n      case 'education': return <EducationalMaterials />;\n      case 'users': return <UserManagement />;\n      case 'dashboard': \n      default: return <DashboardStats />;\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-100\">\n      {!isAuthenticated ? (\n        <div className=\"flex items-center justify-center min-h-screen p-4\">\n          {showRegister ? (\n            <AuthRegisterForm \n              onRegister={handleRegister} \n              onShowLogin={() => setShowRegister(false)} \n            />\n          ) : (\n            <AuthLoginForm \n              onLogin={handleLogin} \n              onShowRegister={() => setShowRegister(true)} \n            />\n          )}\n        </div>\n      ) : (\n        <div className=\"flex\">\n          <NavigationSidebar \n            currentView={currentView}\n            setCurrentView={setCurrentView}\n            userRole={userRole}\n            onLogout={handleLogout}\n          />\n          <div className=\"flex-1 p-6\">\n            {renderView()}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}